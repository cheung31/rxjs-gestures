{"version":3,"sources":["../../src/operators/PanOperator.js"],"names":[],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;;;;;IAEa,W,WAAA,W;AACT,yBAAY,KAAZ,EAAmB,MAAnB,EAA2B,QAA3B,EAAqC;AAAA;;AACjC,aAAK,KAAL,GAAa,KAAb;AACA,aAAK,MAAL,GAAc,MAAd;AACA,aAAK,QAAL,GAAgB,QAAhB;AACH;;;;6BACI,U,EAAY,M,EAAQ;AACrB,mBAAO,OAAO,UAAP,CAAkB,IAAI,aAAJ,CAAkB,UAAlB,EACkB,KAAK,KADvB,EAEkB,KAAK,MAFvB,EAGkB,KAAK,QAHvB,CAAlB,CAAP;AAIH;;;;;;IAGQ,a,WAAA,a;;;AACT,2BAAY,WAAZ,EAAyB,KAAzB,EAAgC,MAAhC,EAAwC,QAAxC,EAAkD;AAAA;;AAAA,qGACxC,WADwC;;AAE9C,cAAK,KAAL,GAAa,KAAb;AACA,cAAK,MAAL,GAAc,MAAd;AACA,cAAK,QAAL,GAAgB,QAAhB;AAJ8C;AAKjD;;;;8BACK,M,EAAQ;AAAA,gBAEF,KAFE,GAE0B,IAF1B,CAEF,KAFE;AAAA,gBAEK,MAFL,GAE0B,IAF1B,CAEK,MAFL;AAAA,gBAEa,QAFb,GAE0B,IAF1B,CAEa,QAFb;AAAA,gBAGF,eAHE,GAGkB,QAHlB,CAGF,eAHE;AAAA,gBAKF,GALE,GAKM,MALN,CAKF,GALE;;AAMV,gBAAM,UAAU,QAAQ,OAAxB;AACA,gBAAM,cAAc,UAAU,IAAV,GAAiB,uBAAS,GAAT,CAArC;;AAEA,gBAAM,QAAQ,UACV,SAAS,IAAT,CAAc,eAAd,CADU,GAEV,SAAS,IAAT,CAAc,eAAd,EAA+B,MAA/B,CAAsC,WAAtC,CAFJ;;AAIA,gBAAM,OAAO,UACT,SAAS,GAAT,CAAa,eAAb,CADS,GAET,SAAS,GAAT,CAAa,eAAb,EAA8B,MAA9B,CAAqC,WAArC,CAFJ;;AAIA,gBAAM,UAAU,UACZ,SAAS,MAAT,CAAgB,eAAhB,CADY,GAEZ,SAAS,MAAT,CAAgB,eAAhB,EAAiC,MAAjC,CAAwC,WAAxC,CAFJ;;AAIA,gBAAM,UAAU,SAAS,KAAT,CAAe,MAAf,EAAuB,KAAvB,EAA8B,MAA9B,EAAsC,KAAtC,EAA6C,IAA7C,EAAmD,OAAnD,CAAhB;;AAEA,2FAAY,SAAS,GAAT,CAAa,OAAb,EAAsB,KAAtB,EAA6B,MAA7B,EAAqC,KAArC,EAA4C,IAA5C,EAAkD,OAAlD,CAAZ;AACH","file":"PanOperator.js","sourcesContent":["import { selectId } from '../support';\nimport { Subscriber } from 'rxjs';\n\nexport class PanOperator {\n    constructor(delay, radius, Gestures) {\n        this.delay = delay;\n        this.radius = radius;\n        this.Gestures = Gestures;\n    }\n    call(subscriber, source) {\n        return source._subscribe(new PanSubscriber(subscriber,\n                                                   this.delay,\n                                                   this.radius,\n                                                   this.Gestures));\n    }\n}\n\nexport class PanSubscriber extends Subscriber {\n    constructor(destination, delay, radius, Gestures) {\n        super(destination);\n        this.delay = delay;\n        this.radius = radius;\n        this.Gestures = Gestures;\n    }\n    _next(starts) {\n\n        const { delay, radius, Gestures } = this;\n        const { topLevelElement } = Gestures;\n\n        const { key } = starts;\n        const isMouse = key === 'mouse';\n        const selectPoint = isMouse ? null : selectId(key);\n\n        const moves = isMouse ?\n            Gestures.move(topLevelElement) :\n            Gestures.move(topLevelElement).filter(selectPoint);\n\n        const ends = isMouse ?\n            Gestures.end(topLevelElement) :\n            Gestures.end(topLevelElement).filter(selectPoint);\n\n        const cancels = isMouse ?\n            Gestures.cancel(topLevelElement) :\n            Gestures.cancel(topLevelElement).filter(selectPoint);\n\n        const presses = Gestures.press(starts, delay, radius, moves, ends, cancels);\n\n        super._next(Gestures.pan(presses, delay, radius, moves, ends, cancels));\n    }\n}\n"]}