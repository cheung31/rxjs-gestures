{"version":3,"sources":["../../src/operators/StopPropagationOperator.js"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;IAEa,uB,WAAA,uB;AACT,uCAA+B;AAAA,YAAnB,SAAmB,yDAAP,KAAO;;AAAA;;AAC3B,aAAK,SAAL,GAAiB,SAAjB;AACH;;;;6BACI,U,EAAY,M,EAAQ;AACrB,mBAAO,OAAO,UAAP,CAAkB,IAAI,yBAAJ,CAA8B,UAA9B,EAA0C,KAAK,SAA/C,CAAlB,CAAP;AACH;;;;;;IAGC,yB;;;AACF,uCAAY,WAAZ,EAAyB,SAAzB,EAAoC;AAAA;;AAAA,iHAC1B,WAD0B;;AAEhC,cAAK,SAAL,GAAiB,SAAjB;AAFgC;AAGnC;;;;8BACK,e,EAAiB;AAAA,wCACe,eADf,CACb,KADa;AAAA,gBACb,KADa,yCACL,eADK;;AAEnB,gBAAI,KAAJ,EAAW;AACP,oBAAI,KAAK,SAAT,EAAoB;AAChB;AACA,wBAAI,OAAO,MAAM,wBAAb,KAA0C,UAA9C,EAA0D;AACtD,8BAAM,wBAAN;AACH,qBAFD,MAEO,IAAI,MAAM,WAAN,IACA,OAAO,MAAM,WAAN,CAAkB,wBAAzB,IAAqD,UADzD,EACsE;AACzE,8BAAM,WAAN,CAAkB,wBAAlB;AACH,qBAHM,MAGA,IAAI,OAAO,MAAM,eAAb,KAAiC,UAArC,EAAiD;AACpD,8BAAM,eAAN;AACH;AACJ,iBAVD,MAUO,IAAI,OAAO,MAAM,eAAb,KAAiC,UAArC,EAAiD;AACpD,0BAAM,eAAN;AACH;AACJ;AACD,uGAAY,eAAZ;AACH","file":"StopPropagationOperator.js","sourcesContent":["import { Subscriber } from 'rxjs';\n\nexport class StopPropagationOperator {\n    constructor(immediate = false) {\n        this.immediate = immediate;\n    }\n    call(subscriber, source) {\n        return source._subscribe(new StopPropagationSubscriber(subscriber, this.immediate));\n    }\n}\n\nclass StopPropagationSubscriber extends Subscriber  {\n    constructor(destination, immediate) {\n        super(destination);\n        this.immediate = immediate;\n    }\n    _next(maybeNormalized) {\n        let { event = maybeNormalized } = maybeNormalized;\n        if (event) {\n            if (this.immediate) {\n                // handle React events, which don't proxy the `stopImmediatePropagation` function\n                if (typeof event.stopImmediatePropagation === 'function') {\n                    event.stopImmediatePropagation();\n                } else if (event.nativeEvent && (\n                           typeof event.nativeEvent.stopImmediatePropagation == 'function')) {\n                    event.nativeEvent.stopImmediatePropagation();\n                } else if (typeof event.stopPropagation === 'function') {\n                    event.stopPropagation();\n                }\n            } else if (typeof event.stopPropagation === 'function') {\n                event.stopPropagation();\n            }\n        }\n        super._next(maybeNormalized);\n    }\n}\n"]}