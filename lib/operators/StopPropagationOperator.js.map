{"version":3,"sources":["../../src/operators/StopPropagationOperator.js"],"names":["StopPropagationOperator","immediate","subscriber","source","subscribe","StopPropagationSubscriber","destination","maybeNormalized","event","stopImmediatePropagation","nativeEvent","stopPropagation"],"mappings":";;;;;;;;;;;AAAA;;;;;;;;IAEaA,uB,WAAAA,uB;AACT,uCAA+B;AAAA,YAAnBC,SAAmB,uEAAP,KAAO;;AAAA;;AAC3B,aAAKA,SAAL,GAAiBA,SAAjB;AACH;;;;6BACIC,U,EAAYC,M,EAAQ;AACrB,mBAAOA,OAAOC,SAAP,CAAiB,IAAIC,yBAAJ,CAA8BH,UAA9B,EAA0C,KAAKD,SAA/C,CAAjB,CAAP;AACH;;;;;;IAGCI,yB;;;AACF,uCAAYC,WAAZ,EAAyBL,SAAzB,EAAoC;AAAA;;AAAA,0JAC1BK,WAD0B;;AAEhC,cAAKL,SAAL,GAAiBA,SAAjB;AAFgC;AAGnC;;;;8BACKM,e,EAAiB;AAAA,wCACeA,eADf,CACbC,KADa;AAAA,gBACbA,KADa,yCACLD,eADK;;AAEnB,gBAAIC,KAAJ,EAAW;AACP,oBAAI,KAAKP,SAAT,EAAoB;AAChB;AACA,wBAAI,OAAOO,MAAMC,wBAAb,KAA0C,UAA9C,EAA0D;AACtDD,8BAAMC,wBAAN;AACH,qBAFD,MAEO,IAAID,MAAME,WAAN,IACA,OAAOF,MAAME,WAAN,CAAkBD,wBAAzB,IAAqD,UADzD,EACsE;AACzED,8BAAME,WAAN,CAAkBD,wBAAlB;AACH,qBAHM,MAGA,IAAI,OAAOD,MAAMG,eAAb,KAAiC,UAArC,EAAiD;AACpDH,8BAAMG,eAAN;AACH;AACJ,iBAVD,MAUO,IAAI,OAAOH,MAAMG,eAAb,KAAiC,UAArC,EAAiD;AACpDH,0BAAMG,eAAN;AACH;AACJ;AACD,wJAAYJ,eAAZ;AACH","file":"StopPropagationOperator.js","sourcesContent":["import { Subscriber } from 'rxjs/Subscriber';\n\nexport class StopPropagationOperator {\n    constructor(immediate = false) {\n        this.immediate = immediate;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new StopPropagationSubscriber(subscriber, this.immediate));\n    }\n}\n\nclass StopPropagationSubscriber extends Subscriber  {\n    constructor(destination, immediate) {\n        super(destination);\n        this.immediate = immediate;\n    }\n    _next(maybeNormalized) {\n        let { event = maybeNormalized } = maybeNormalized;\n        if (event) {\n            if (this.immediate) {\n                // handle React events, which don't proxy the `stopImmediatePropagation` function\n                if (typeof event.stopImmediatePropagation === 'function') {\n                    event.stopImmediatePropagation();\n                } else if (event.nativeEvent && (\n                           typeof event.nativeEvent.stopImmediatePropagation == 'function')) {\n                    event.nativeEvent.stopImmediatePropagation();\n                } else if (typeof event.stopPropagation === 'function') {\n                    event.stopPropagation();\n                }\n            } else if (typeof event.stopPropagation === 'function') {\n                event.stopPropagation();\n            }\n        }\n        super._next(maybeNormalized);\n    }\n}\n"]}